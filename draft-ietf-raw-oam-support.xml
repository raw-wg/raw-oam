<?xml version="1.0" encoding="utf-8"?>


<!-- Compiles with XML2RFC v3 https://xml2rfc.tools.ietf.org/cgi-bin/xml2rfc-dev.cgi -->


<rfc xmlns:xi="http://www.w3.org/2001/XInclude" category="info" ipr="trust200902" docName="draft-ietf-raw-oam-support-06" obsoletes="" updates="" submissionType="IETF" xml:lang="en" tocInclude="true" tocDepth="3" symRefs="true" sortRefs="true" version="3">



<?rfc strict="yes" ?>
<!-- give errors regarding ID-nits and DTD validation -->
<!-- control the table of contents (ToC) -->
<?rfc toc="yes"?>
<!-- generate a ToC -->
<?rfc tocdepth="3"?>
<!-- the number of levels of subsections in ToC. default: 3 -->
<!-- control references -->
<?rfc symrefs="yes"?>
<!-- use symbolic references tags, i.e, [RFC2119] instead of [1] -->
<?rfc sortrefs="yes" ?>
<!-- sort the reference entries alphabetically -->
<!-- control vertical white space
     (using these PIs as follows is recommended by the RFC Editor) -->
<?rfc compact="yes" ?>
<!-- do not start each main section on a new page -->
<?rfc subcompact="no" ?>
<!-- keep one blank line between list items -->
<!-- end of list of popular I-D processing instructions -->
<!--
    <rfc category="info" docName="draft-ietf-raw-oam-support-03" updates="" ipr="trust200902">
    -->
      
<!--<rfc  version="00" docName="draft-ietf-raw-oam-support-00" submissionType="IETF"
    ipr="trust200902" tocInclude="true">
-->
        
<front> 

    <title abbrev="OAM features for RAW">Operations, Administration and Maintenance (OAM) features for RAW</title>
   
 
 
	<author initials="F." surname="Theoleyre" fullname="Fabrice Theoleyre">
    	<organization abbrev="CNRS">Centre National de la Recherche Scientifique</organization>
     	<address>
        	<postal>
            	<street>Building B</street>
             	<street>300 boulevard Sebastien Brant - CS 10413</street>
             	<city>Illkirch - Strasbourg</city>
             	<code>67400</code>
             	<country>France</country>
         	</postal>
         	<phone>+33 368 85 45 33</phone>
            <email>fabrice.theoleyre@cnrs.fr</email>
            <uri>http://www.theoleyre.eu</uri>
     	</address>
 	</author>

    <author initials="G.Z." surname="Papadopoulos" fullname="Georgios Z. Papadopoulos">
      <organization>IMT Atlantique</organization>
      <address>         
        <postal>            
           <street>Office B00 - 102A</street>
           <street>2 Rue de la Chataigneraie</street>
           <city>Cesson-Sevigne - Rennes</city>
            <code>35510</code>
            <country>France</country>
         </postal>
         <phone>+33 299 12 70 04</phone>
    <email>georgios.papadopoulos@imt-atlantique.fr</email>
      </address>
    </author>

    <author initials="G." surname="Mirsky" fullname="Greg Mirsky">
      <organization>Ericsson</organization>
      <address>
          <postal>
            <country>US</country>
          </postal>
          <email>gregimirsky@gmail.com</email>
      </address>
    </author>

    <author fullname="Carlos J. Bernardos"
        initials="CJ."
        surname="Bernardos">
     <organization abbrev="UC3M">
     Universidad Carlos III de Madrid
     </organization>
     <address>
       <postal>
         <street>Av. Universidad, 30</street>
         <city>Leganes, Madrid</city>
         <code>28911</code>
         <country>Spain</country>
       </postal>
       <phone>+34 91624 6236</phone>
       <email>cjbc@it.uc3m.es</email>
       <uri>http://www.it.uc3m.es/cjbc/</uri>
     </address>
   </author>

   <date/>

   <area>Routing</area>
   <workgroup>RAW</workgroup>

   <abstract>
   		<t>
            Some critical applications may use a wireless infrastructure.
              However, wireless networks exhibit a bandwidth of several orders of magnitude lower than wired networks.
              Besides, wireless transmissions are lossy by nature; the probability that a packet cannot be decoded correctly  by the receiver may be quite high.
              In these conditions, providing high reliability and a low delay is challenging.
                   This document lists the requirements of  the Operation, Administration, and Maintenance (OAM) features are recommended to provide availability and reliability on top of a collection of wireless segments.
              This document describes the benefits, problems, and trade-offs for using OAM in wireless networks to achieve Service Level Objectives (SLO).

   		</t>
   </abstract>
   

</front>

<middle>

        

<!--section title="TEMPORARY EDITORIAL NOTES">
   <t>
		This document is an Internet Draft, so it is work-in-progress by nature.
   		It contains the following work-in-progress elements:
   </t>	
     		 
   <t>
   	<list style="symbols">
		<t>"TODO" statements are elements which have not yet been written by the authors 
		for some reason (lack of time, ongoing discussions with no clear consensus, etc).
		The statement does indicate that the text will be written at some time.</t>
   	</list>
   </t>
   		 
</section --> 



<section title="Introduction">
	<t>
        The Reliable and Available Wireless (RAW) working group aims to extends DetNet
        to approach end-to-end deterministic performances over a network that
        includes scheduled wireless segments.
        In wired networks, many approaches try to enable Quality of Service (QoS) by
        implementing traffic differentiation so that routers handle each type of packets differently.
    </t>
    
    <t>
        Deterministic Networking (DetNet) <xref target="RFC8655"/> has proposed to provide a bounded end-to-end latency
        on top of the network infrastructure, comprising both Layer 2 bridged and Layer 3 routed segments.
        Their work encompasses the data plane, OAM, time synchronization, management, control, and security aspects.
    </t>
    
    <t>
        However, wireless networks create specific challenges.
        First of all, radio bandwidth is significantly lower than in wired networks.
        In these conditions, the volume of signaling messages has to be very limited.
        Even worse, wireless links are lossy: a Layer 2 transmission may or may not be 
        decoded correctly by the receiver, depending on a broad set of parameters.
        Thus, providing high reliability through wireless segments is particularly challenging.
    </t>
    
    <t>
        Wired networks rely on the concept of <em>links</em>. All the devices attached
        to a link receive any transmission. The concept of a link in wireless
        networks is somewhat different from what many are used to in wireline networks.
        A receiver may or may not receive a transmission, depending on
        the presence of a colliding transmission, the radio channel's quality, and the external interference.
        Besides, a wireless transmission is broadcast by nature: any <em>neighboring</em>
        device may be able to decode it. This document includes detailed information on the implications for the OAM features.
    </t>
    
    <t>
        Last but not least, radio links present volatile characteristics.
        If the wireless networks use an unlicensed band, packet losses are not anymore temporally
        and spatially independent.
        Typically, links may exhibit a very bursty characteristic, where several 
        consecutive packets may be dropped because of, e.g., temporary external interference.
        Thus, providing availability and reliability on top of the wireless infrastructure 
        requires specific Layer 3 mechanisms to counteract these bursty losses.
        Besides, Layer 3 has to be <em>informed</em> of the physical characteristics to make the right decision, and to avoid exacerbating physical issues (e.g., overloaded link because it became unreliable, overloaded radio channels).
    </t>
	   
    <t>
        Operations, Administration, and Maintenance (OAM) Tools are of primary importance
        for IP networks <xref target="RFC7276"/>.
        They define a toolset for fault detection, isolation, and performance measurement.
    </t>
       
    <t>
        The primary purpose of this document is to detail the specific requirements of the OAM
        features recommended to provide reliability and availability
        on top of a collection of wireless segments.
      	This document describes the benefits, problems, and trade-offs for using OAM in 
    	wireless networks to provide these properties.
	</t>

	<section title="Terminology">

   <t>
      	In this document, the term OAM will be used according to its definition specified 
      	in <xref target="RFC6291"/>.
      	We expect to implement an OAM framework in RAW networks to maintain a real-time 
      	view of the network infrastructure, and its ability to respect the Service Level
          Objectives (SLO), such as delay and reliability, assigned to each data flow.
   </t>

    	<t>
            We re-use here the same terminology as <xref target="I-D.ietf-detnet-oam-framework"/>:
        </t>
        <ul>
            <li><t>
                OAM entity: a data flow to be monitored for defects and/or its performance metrics measured.
                For such entity, we define the following terms:
            
            </t>
            <ul>
                <li>
                    OAM domain: a network used by the monitored flow.
                    An OAM domain may have MEPs on its edge and MIPs within.
                </li>
        
            
            <!--
            Greg: I think it is useful to differentiate between MEP and MIP. But we need to consider the origin of the term is Layer 2. For IETF we might choose/define somewhat different terms, e.g., Test Point for MEP and Monitor Point for MIP.
            
            Fab: ok; I use TEP and MonEP (to avoid making a confusion with MEP)
            
            Fab: I finally reuse the terminology defined in detnet-oam-7 to be consistent
            <li>
                Test End Point (TEP): OAM devices crossed when entering/exiting
                the network. In RAW, it corresponds mostly to the source or destination
                of a data flow. OAM message can be exchanged between two TEPs;
            </li>
     -->
                <li>
                    Maintenance End Point (MEP): an OAM instance that is capable of generating OAM test packets in the particular sub-layer of the OAM domain.

                </li>

                <li>
                    Maintenance Intermediate endPoint (MIP): an OAM instance along the flow in the particular sub-layer of the OAM domain. A MIP MAY respond to an OAM message generated by the MEP at its sub-layer of the same OAM domain.

                </li>
            </ul>
            </li>
            
            <li>control/management/data plane: the control and management planes
               are used to configure and control the network (long-term).
               On a per-node basis, the data plane applies rules and policies for each packet.
               For example, selecting the time-frequency block or the next hop on a
               packet-by-packet basis.
               Relative to a data flow, the control and/or management plane can be out-of-band.
                </li>

            <li><t>
                Active measurement methods (as defined in
               <xref target="RFC7799"/>) modify a normal data flow by
               inserting novel fields, injecting specially constructed test
               packets <xref target="RFC2544" format="default"/>).
               It is critical for the
               quality of information obtained since generated test packets are in-band with the monitored data flow.
               In other words, a test packet is required to cross the
               same network nodes and links and receive the same Quality of
               Service (QoS) treatment as a data packet.

               Active methods may implement one of these two strategies:
               </t>
               <ul>
                
                    <li>
                        In-band: control information follows the same path as the data packets.
                        In other words, a failure in the data plane may prevent the control information from reaching the destination (e.g., end-device or controller).
                    </li>
                    <li>
                        out-of-band: control information is sent separately from the data packets.
                        Thus, the behavior of control vs. data packets may differ.
                    </li>
                </ul>

            </li>

            <li>Passive measurement methods <xref target="RFC7799"/> infer
               information by observing unmodified existing flows.
            </li>

            </ul>
        
        
        <t>
        We also adopt the following terminology, which is particularly relevant for RAW-specific (aka wireless) segments.
        </t>
        
        <ul>
          

            <li> piggybacking vs. dedicated control packets:
            control information may be encapsulated in specific (dedicated) control packets.
            Alternatively, it may be piggybacked in existing data packets, when the MTU is larger than the actual packet length.
            Piggybacking makes specifically sense in wireless networks, as the cost (bandwidth and energy) is sublinear with the packet size.
            Indeed, the cost to access the medium (e.g., early wake-up to deal with clock drifts) cannot be neglected, and is counted once, whatever the packet size.
            </li>
            
            <li> router-over vs. mesh under:
                a control packet is either forwarded directly without being processed (mesh under) or handled hop-by-hop by each router.
                While the latter option consumes more resources, it allows collecting additional intermediary information, particularly relevant in wireless networks.
                For instance, each router is a MIP and inserts its own ID in the packet's hader, so that the destination reconstructs a posteriori the list of IDs that actually forwarded a packet.
            </li>
            
             <li>
               Defect: a temporary change in the network (e.g., a radio link which is
               broken due to a mobile obstacle);
           </li>
    
           <li>
               Fault: an irrevocable change which may affect the network performance, e.g., a node runs out of energy.
           </li>
           <li>
                End-to-end delay: the time between the packet generation and its reception by the destination.
            </li>
        </ul>
 
    </section>
    
    
    <section anchor="acronyms-sec" title="Acronyms">
    <t>OAM                   Operations, Administration, and Maintenance</t>
    <t>DetNet               Deterministic Networking</t>
    <t>PSE                   Path Selection Engine <xref target="I-D.pthubert-raw-architecture"/> </t>
    <t>QoS                   Quality of Service</t>
    <t>RAW                   Reliable and Available Wireless</t>
    <t>SLO                    Service Level Objective</t>
    <t>SNMP               Simple Network Management Protocol</t>
    <t>SDN                  Software-Defined Network</t>
    </section>

            <section title="Requirements Language">
             <t>
   The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL
   NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "NOT RECOMMENDED",
   "MAY", and "OPTIONAL" in this document are to be interpreted as
   described in BCP 14 <xref target="RFC2119"/> <xref target="RFC8174"/>
   when, and only when, they appear in all capitals, as shown here.
             </t>
             </section>
 

</section>





<!-- INTEREST OF OAM          -->
<section title="Role of OAM in RAW">
	<t>
      RAW networks expect to provide availability and reliability over a
      wireless network infrastructure. 
      Most critical applications will define an SLO required for the data flows it
      generates.
      RAW expects to exploit OAM to improve the RAW operation at the service and the forwarding sub-layers.
	</t>


	<t>
To respect strict guarantees, RAW relies on the Path Selection Engine (PSE) (as
defined in <xref target="I-D.pthubert-raw-architecture" /> to monitor and
maintain the L3 network. Any L2 scheduling mechanism may be used to allocate transmission opportunities,
based on the radio link characteristics, the SLO of the flows, or the number of packets to forward.
The PSE exploits the L2 resources reserved by the scheduler and organizes the L3 paths to
introduce redundancy, fault tolerance and create backup paths.
OAM represents the core of the pre-provisioning process by supervising the network.
It maintains a global view of the network resources to detect defects, faults, over-provisioning, anomalies.

	</t>



	<t>
      Fault tolerance also assumes that multiple paths must be
   provisioned so that an end-to-end circuit remains operational regardless of the conditions.
   The Packet Replication and Elimination Function (<xref target="I-D.pthubert-raw-architecture"/>) on a node is typically controlled by the PSE.
    OAM mechanisms can be used to monitor that PREOF is working correctly on a node and within the domain.

	</t>
    
<!--
Greg: I think that out-of-band OAM is useful in case of passive OAM that collects counters, statistics from the nodes, e.g., SNMP or Netconf/Restconf using YANG-based data models. Such methods may be used as systems have control and management channels already.
Fab: +1 (no interest to restrict so much the possibility)
-->
	<t>
      To be energy-efficient, out-of-band OAM SHOULD only be used to report aggregated statistics (e.g., counters, histograms) from the nodes using, e.g., SNMP or Netconf/Restconf using YANG-based data models.
      The out-of-band OAM flow MAY use a dedicated control and management channel, dedicated to this purpose.
	</t>


	<t>
      RAW supports both proactive and on-demand troubleshooting.
      Proactively, it is necessary to detect anomalies, report defects, or reduce over-provisioning if it is not required.
      However, on-demand may also be required to identify the cause of a specific defect.
      Indeed, some specific faults may only be detected with a global, detailed view of the network, which is too expensive to acquire in the normal operating mode.
	</t>
    
    <t>
        The specific characteristics of RAW are discussed below.
        </t>
    
    
    <section title="Link concept and quality">
        <t>
            In wireless networks, a <em>link</em> does not exist physically.
            A device has a set of <strong>neighbors</strong> that correspond to all the devices that have a non-null probability of receiving its packets correctly.
            We make a distinction between:
            </t>
        
            <ul>
                <li> point-to-point (p2p) link with one transmitter and one receiver.
                    These links are used to transmit unicast packets.
                </li>
                
                <li> point-to-multipoint (p2mp) link associates one transmitter and a collection of receivers.
                    For instance, broadcast packets assume the existence of p2mp links to avoid duplicating a broadcast packet to reach each possible radio neighbor.
                </li>
            </ul>

    
            <t>
            In scheduled radio networks, p2mp and p2p links are commonly not scheduled simultaneously to save energy and/or to reduce the number of collisions.
            More precisely, only a fraction of the neighbors may wake up at a given instant.
            </t>
       
       <!-- Fabrice : anecdotical (to my mind)
       <t>
            Anycast is used in p2mp links to improve the reliability.
            A collection of receivers are scheduled to wake up simultaneously, so that the transmission fails only if none of the receivers can decode the packet.
            </t>
     -->
        <t>
            Each wireless link is associated with a link quality, often measured as the
            Packet Delivery Ratio (PDR), i.e., the probability that the receiver can decode the packet correctly.
            It is worth noting that this link quality depends on many criteria, such as the level of external
            interference, the presence of concurrent transmissions, or the radio channel state.
            This link quality is even time-variant.
            For p2mp links, consequently, we have a collection of PDR (one value per receiver).
            Other more sophisticated, aggregated metrics exist for these p2mp links, such as <xref target="anycast-property"/>
            </t>
        
        </section>
    
    <section title="Broadcast Transmissions">
        <t>
            In modern switched networks, unicast transmissions are delivered exclusively to the destination .
            Wireless networks are much closer to the traditional <strong>shared access</strong> wired networks.
            Practically, unicast and broadcast frames are handled similarly at the physical layer.
            The link layer is just in charge of filtering the frames to discard irrelevant receptions (e.g., different unicast MAC addresses).
            </t>
        
        <t>
            However, contrary to wired networks, we cannot ensure that a packet is received by
            <strong>all</strong> the devices attached to the Layer 2 segment.
            It depends on the radio channel state between the transmitter(s) and the receiver(s).
            In particular, concurrent transmissions may be possible or not, depending on the radio conditions (e.g., do the different transmitters use a different radio channel or are they sufficiently spatially separated?)
            </t>
        
        </section>
    


    <section title="Complex Layer 2 Forwarding">
        <t>
            Multiple neighbors may receive a transmission.
            Thus, anycast Layer 2 forwarding helps to maximize reliability by assigning multiple receivers to a single transmission.
            That way, the packet is lost only if <strong>none</strong> of the receivers decode it.
            Practically, it has been proven that different neighbors may exhibit very different radio conditions, and
            that reception independence may hold for some of them <xref target="anycast-property"/>.
            Anycast transmission typically exploit p2mp links.
            </t>

        </section>

  
    <section title="End-to-end delay">
      <t>
            In a wireless network, additional transmissions opportunities are provisioned to accommodate packet losses.
            Thus, the end-to-end delay consists of:
        </t>
            <ul>
                <li>
                    Transmission delay, which is fixed and depends mainly on the data rate, and the presence or absence of an acknowledgement.
                </li>
                <li>
                    Residence time, corresponds to the buffering delay and depends on the schedule.
                    To account for retransmissions, the residence time is equal to the difference between the time of last reception from the previous hop (among all the retransmissions) and the time of emission of the last retransmission.
                </li>

            </ul>

      </section>
  
</section>




<!--  OPERATION          -->
<section title="Operation">
	<t>
    	OAM features will enable reliability and availability with robust operations both for forwarding and routing
    	purposes.
	</t>
    
    

    <section title="Information Collection">
           <t>
               The model for exchanging information should be the same as for a DetNet network to ensure inter-operability.
               YANG may typically fulfill this objective.
            </t>
           
           <t>
               However, RAW networks imply specific constraints (e.g., low bandwidth, packet losses, cost of medium access) that may require to minimize the volume of information to collect.
               Thus, we discuss in <xref target="measurementretrieval"/> different ways to collect information, i.e., transfer the OAM information physically from the emitter to the receiver.
               This corresponds to passive OAM as defined in <xref target="RFC7799"/>.
               </t>
           </section>

    
    
    <section title="Continuity Check">
		<t>
			Similarly to DetNet, we need to verify that the source and the destination are connected (at least one valid path exists).
 		</t>
        
        </section>

        
        <section title="Connectivity Verification">

		<t>
            As in DetNet, we have to verify the absence of
            misconnection.
            We focus here on the RAW specificities.
        </t>
     
        
        
        <t>
             Because of radio transmissions' broadcast nature, several
   receivers may be active at the same time to enable anycast Layer 2
   forwarding. Thus, the connectivity
            verification must test any combination.
            We also consider priority-based mechanisms for anycast forwarding, i.e., all the receivers have
            different probabilities of forwarding a packet.
            To verify a delay SLO for a given flow, we must also consider all the possible combinations,
            leading to a probability distribution function for end-to-end transmissions.
            If this verification is implemented
            naively, the number of combinations to test may be exponential and too costly
            for wireless networks with low bandwidth.
        </t>
     
    
        


	</section>
        
        
   
    <section title="Route Tracing">


		<t>
            Wireless networks are broadcast by nature: a radio transmission can be decoded by any radio neighbor.
            In multihop wireless networks, several paths exist between two endpoints.
            In hub networks, a device may be covered by several Access Points.
            The network must select the most efficient path or AP, concerning specifically the reliability, and the delay.
       </t>
        
        <t>
            Thus, multipath routing / multi-attachment can be viewed as making the network more fault-tolerant.
            Even better, we can exploit the broadcast nature of wireless networks: we may have multiple Maintenance Intermediate Points (MIP) for each of these kinds of hop.
            While it may be reasonable in the multi-attachment case, the complexity quickly increases with the path length.
            Indeed, each MIP has several possible next hops in the forwarding plane.
			Thus, all the possible paths between two MEPs should be retrieved, which may quickly become intractable if we apply a naive approach.
        </t>
    </section>

   
	<section title="Fault detection">
        
        <t>
            Wired networks tend to present stable performances.
            On the contrary, wireless networks are time-variant.
            We must consequently make a distinction between <em>expected</em> evolutions and malfunctions.
        </t>

		

	</section>


	<section title="Fault identification">
    	<t>
        	<!-- Fabrice: seems weird
            The network has isolated and identified the cause of the fault.
        	-->
            While DetNet already expects to identify malfunctions, some problems are specific to wireless networks.
            We must consequently collect metrics and implement algorithms tailored for wireless networking.
        </t>
        <t>
            For instance, the decrease in the link quality may be caused by several factors: external interference, obstacles, multipath fading, mobility.
            It is fundamental to be able to discriminate the different causes to make the right decision.
        </t>
        
        
	</section>
</section>



<!--    ADMINISTRATION          -->
<section title="Administration">
   
   <t>
      The RAW network has to expose a collection of metrics to support an operator making proper decisions, including:
    </t>
      <ul>
         <li>
            Packet losses: the time-window average and maximum values of the
            number of packet losses have to be measured. Many critical applications
            stop working if a few consecutive packets are dropped.
            </li>
         
         <li>
            Received Signal Strength Indicator (RSSI) is a very common metric
            in wireless to denote the link quality. The radio chipset is in charge
            of translating a received signal strength into a normalized
            quality indicator.
            </li>
         
         <li>
            Delay: the time elapsed between a packet generation / enqueuing
            and its reception by the next hop.
            In wireless networks, the delay has also to take into consideration possible retransmissions.
            </li>
      <!-- Fabrice : not specific to RAW, same for detnet
         <li>
            Buffer occupancy: the number of packets present in the buffer,
            for each of the existing flows.
            </li>
      -->
         <li>
            Battery lifetime: the expected remaining battery lifetime of the
            device. Since many RAW devices might be battery-powered, this is an
            important metric for an operator to make proper decisions.
            </li>

         <li>
            Mobility: if a device is known to be mobile, this might be
            considered by an operator to take proper decisions.
            </li>

         
      </ul>

   <t>
      These metrics should be collected per device, virtual circuit, and path, as DetNet already does.
      However, in RAW, we have to deal with them at a finer granularity:
     </t>
     <ul>
         
         <li>per radio channel to measure, e.g., the level of external interference,
            and to be able to apply counter-measures (e.g., blacklisting).
            </li>
         <li>per physical radio technology / interface, if a device has multiple NICs.
             </li>
         
         <li>
            per link to detect a misbehaving link (asymmetrical link, or with a fluctuating quality).
        </li>
         
        <li>
            per resource block: a collision in the schedule is particularly challenging to identify in radio networks with spectrum reuse.
            In particular, a collision may not be systematic (depending on the radio characteristics and the traffic profile).
            </li>
         </ul>

   
   
   
         
      <t>
         RAW inherits the same requirements as DetNet: we need to know the distribution of a collection of metrics.
         Besides, wireless networks are known to be highly variable.
         Changes may be frequent, and may exhibit a periodical pattern.
         Collecting and analyzing this amount of measurements is challenging.
         OAM should find an efficient method to encode these time-series in a compact form.
         </t>
     
     <!-- Fabrice: off topic (to my mind)
     
     <section title="Complex time series">
     <t>
         Wireless networks are known to be lossy, and RAW has to implement strategies to improve reliability on top of unreliable links.
         Reliability is typically achieved through Automatic Repeat Request (ARQ), and Forward Error Correction (FEC).
         Since the different flows don't have the same SLO, RAW must adjust the ARQ and FEC based on the link and path characteristics.
      </t>
     </section>
     -->

    

   
   <section title="Efficient measurement retrieval (Passive OAM)" anchor="measurementretrieval">
      <t>
           We have to minimize the number of statistics / measurements to exchange:
        </t>
           <ul>
           <li>
               energy efficiency: low-power devices have to limit the volume of monitoring
               information since every bit consumes energy.
           </li>
           <li>
               bandwidth: wireless networks exhibit a bandwidth significantly lower than
               wired networks.
           </li>
           <li>
               per-packet cost: it is often more expensive to send several packets instead
               of combining them in a single link-layer frame.
           </li>
           </ul>
          
          <t>
         In conclusion, we have to take care of power and bandwidth consumption.
         The following techniques reduce the cost of such maintenance:
         </t>
          
         <ul>
            <li>
               on-path collection: control information is inserted in the data packets
               if they do not fragment the packet (i.e., the MTU is not exceeded).
               Information Elements represent a standardized way to handle such information.
               IP hop by hop extension headers may help to collect metrics all along the path.
               </li>
            
            <li>
               flags/fields: we have to set-up flags in the packets to monitor to be able
               to monitor the forwarding process accurately.
               A sequence number field may help to detect packet losses.
               Similarly, path inference tools such as <xref target="ipath"/> insert
               additional information in the headers to identify the path followed by a
               packet a posteriori.
               </li>
            
            <li>
                hierarchical monitoring: localized and centralized mechanisms have to be combined together.
                Typically, a local mechanism should continuously monitor a set of metrics and trigger remote OAM exchanges only when a fault is detected (but possibly not identified).
                For instance, local temporary defects must not trigger expensive OAM transmissions.
                Besides, the wireless segments often represent the weakest parts of a path: the volume of control information they produce has to be fixed accordingly.

            </li>
            
            </ul>
         
         <t>
             Several passive techniques can be combined.
             For instance, the DetNet forwarding sublayer MAY combine In-band Network Telemetry (INT) with P4, iOAM and iPath to compute and report different statistics in the track (e.g., number of link-layer retransmissions, link reliability).
         </t>


      </section>
   
   
        <section title="Reporting OAM packets to the source (Active OAM)">
            <t>
                The MEP will collect measurements from the OAM probes received in the monitored track.
                However, the aggregated statistics must then be reported to the other MEP that injected the probes.
                Unfortunately, the monitored track MAY be unidirectional.
                In this case, the statistics have to be reported out-of-band (through, e.g., a dedicated control or management channel).
            </t>
            
            <t>
                It is worth noting that Active OAM and Passive OAM techniques are not mutually exclusive.
                In particular, Active OAM is useful when a statistic cannot be accurately acquired passively.
            </t>
            
            
            <t>
                Besides, Active OAM may also use piggybacking techniques: the OAM packet may be piggybacked in a frame if the MTU is sufficient.
                Indeed, increasing the number of transmissions in radio networks may very negatively impact the performance of radio networks, particularly for scheduled access, with fixed timeslot durations.
                Thus, OAM packets may be buffered until another frame has sufficient space, and has to be transmitted to the same neighbor.
                In conclusion, active OAM packets may be out-of-band or in-band.
            </t>
       </section>
       
   </section>
   
   
   
  
   


<!--   MAINTENANCE          -->

<!-- speak about predictive maintenance? -->

   <section title="Maintenance">
      <t>
        Maintenance needs to facilitate the maintenance (repairs and upgrades).
        In wireless networks, repairs are expected to occur much more frequently, since the link quality may be highly time-variant.
        Thus, maintenance represents a key feature for RAW.
     </t>


 
    <section title="Transient state after reconfiguration">
        <t>
            Because of the wireless medium, the link quality may fluctuate, and the network needs to reconfigure itself continuously.
            During this transient state, flows may begin to be gradually re-forwarded, consuming resources in different parts of the network.
            OAM has to make a distinction between a metric that changed because of an usual network change (e.g., flow  redirection) and an unexpected event (e.g., a fault).
            In a general manner, OAM mechanisms have to provide a consistent view of the OAM domain, even during the reconfiguration.
       </t>
    </section>
 
    <section title="Predictions">
        <t>
            RAW needs to implement self-optimization features.
            While the network is configured to be fault-tolerant, a reconfiguration may be required to keep on respecting long-term objectives.
            The network must continuously retrieve the state of the network,
            to judge about the relevance of a reconfiguration.
            More precisely, the OAM mechanisms have to provide enough information to predict and quantify:
        </t>
            <ul>
               <li>the gain of the reconfiguration: what would be the network state after the reconfiguration (e.g., reduction of the bandwidth or energy consumption)?
               </li>
               <li>
                  the reconfiguration cost: what is the cost (energy, bandwidth) to reconfigure the forwarding and management planes?
               </li>
            </ul>
            
            <t>
                Wireless networks exhibit non linear dependencies among links / radio channels / technologies that complexify significantly such predictions.
                </t>

    </section>
 </section>

   
   <section anchor="req-list" numbered="true" toc="default">
     <name>Requirements</name>
     <t>
         This section lists requirements for OAM in a RAW domain:
     </t>
    <ol>
        <li>
            Maintenance Intermediate and End Point device MUST expose a list of available metrics per flow.
            It MUST at least provide the end-to-end Packet Delivery Ratio,
            end-to-end latency, and Maximum Consecutive Failures (MCF).
        </li>
         
        <li>
            PREOF functions MUST guarantee order preservation for a flow.
        </li>
        
        <li>
            OAM nodes MUST provide aggregated statistics to reduce the volume of traffic for measurements.
            They MAY send a compressed distribution of measurements, or MIN / MAX values over a time interval.
        </li>
        
        <li>
            Maintenance End Points SHOULD support route tracing with hybrid OAM techniques.
        </li>
        
        
    </ol>
    </section>
      
  <section anchor="iana-consider" title="IANA Considerations">
  <t>This document has no actionable requirements for IANA. This section can be removed before the publication.</t>
  </section>
   
     <section anchor="security" title="Security Considerations">
     <t>
         This document lists the OAM requirements for an OAM wireless domain and does not raise any security concerns or issues in addition to ones common to networking and those specific to a DetNet discussed in <xref target="RFC9055"/>.
     </t>

     </section>
     
           <section title="Acknowledgments">
         <t>
             The authors express their appreciation and gratitude to the colleagues who carefully reviewed the draft and shared their comments (Xavi Vilajosana, Dominique Barthel, Pascal Thubert), and all the RAW and Detnet working group members in general.

         </t>
      </section>
      
</middle>


<back>
   
   <!--
    <references title="Normative References">
    </references>
    -->
   
   <references title="Informative References">
       <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.6291.xml"/> <!-- OAM definition -->
       <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.7276.xml"/> <!-- An Overview of Operations, Administration, and Maintenance (OAM) Tools -->
       <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8174.xml"/> <!-- Ambiguity of Uppercase vs Lowercase -->
       <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.8655.xml"/> <!-- Deterministic Networking Architecture -->
       <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml"/> <!-- Key words for use in RFCs to Indicate Requirement Levels  -->
       <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.7799.xml"/> <!-- passive / active methods   -->
       <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.2544.xml"/>
       <xi:include href="https://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.9055.xml"/> <!-- security for detnet -->

 
       <xi:include href="https://datatracker.ietf.org/doc/bibxml3/draft-pthubert-raw-architecture.xml"/>
     <!--
     Fabrice: seems deprecated
     <xi:include href="https://datatracker.ietf.org/doc/bibxml3/draft-thubert-bier-replication-elimination.xml"/>
     -->
        <xi:include href="https://datatracker.ietf.org/doc/bibxml3/draft-ietf-detnet-oam-framework.xml"/>
        
        
        
        
        
        <reference anchor="anycast-property" target="https://doi.org/10.1109/LCNSymposium47956.2019.9000679">
             <front>
                <title>Is Link-Layer Anycast Scheduling Relevant for IEEE 802.15.4-TSCH Networks?</title>
                <author initials="R." surname="Teles Hermeto" fullname="R. Teles Hermeto"/>
                <author initials="A." surname="Gallais" fullname="A. Gallais"/>
                <author initials="F." surname="Theoleyre" fullname="F. Theoleyre"/>
                <date year="2019"/>
                <!--
                 IEEE 2019 IEEE 44th LCN Symposium on Emerging Topics in Networking (LCN Symposium) 2019, 14-17 Oct. 2019, Osnabruck, Germany
                 -->
             </front>
          </reference>
      
      <reference anchor="ipath" target="https://doi.org/10.1109/TNET.2014.2371459">
         <front>
            <title>iPath: path inference in wireless sensor networks.</title>
            <author initials="Y." surname="Gao" fullname="Y.Gao"/>
            <author initials="W." surname="Dong" fullname="W. Dong"/>
            <author initials="C." surname="Chen" fullname="C. Chen"/>
            <author initials="J." surname="Bu" fullname="J. Bu"/>
            <author initials="W." surname="Wu" fullname="W. Wu"/>
            <author initials="X." surname="Liu" fullname="X. Liu"/>
            <date year="2016"/>
            <!--
             IEEE/ACM Transactions on Networking (TON) archive
             Volume 24 Issue 1, February 2016
             Pages 517-528
             -->
         </front>
      </reference>
      
      
    
   </references>
   
   

 <!-- TODO
 
 
   <section title="TO BE ADDRESSED">
       <t>
           3 principles for high reliability:
           <list style="symbols">
           
               <t>
                   elimination of single points of failure
               </t>
               
               <t> reliable crossover: This is not treated explicitly but is tacit within 5.2. Internet
               Protocol executes the principle. The problem with this draft is it
               advocates adding state into the routing fabric without seeming to
               realize that that tends to defeat the reliable crossover principle. 5.3
               resource reservation clearly does this. Therefore, I recommend that the
               reliable crossover principle get explicit treatment at this stage so
               the tradeoffs can be properly weighed.
                 (We've gone through resource reservation protocols before - remember
               RSVP? - and they've not been very successful).
                   
                   </t>
           <t>detection of faults as they occur: 3.3 and 3.4 treat this, but, IMHO, the organization should again be
           cleaned up.  Back in the days when Simple Network Management Protocol
           was being worked up, a common acronym was FCAPS for [Fault Configuraion
           Accounting Performance Security]. Sounds to me like a pattern that this
           discussion could be mapped onto.
              In this case we have performance management solutions commingled
           with fault management ones. My experience is that QoS issues should
           always be the _last_ to be discussed, not the first.
              SNMP is nowhere mentioned in the draft. Sooner or later, you're
           going to need gets, sets and traps.  Is now the right time?
               
               </t>
           </list>
       </t>
       
       
       </section>
-->

</back>

</rfc>
